//Auto-generated by RSP Compiler
//Source: index.rsp.html
part of trails;

/** Template, index, for rendering the view. */
Future index(HttpConnect connect) { //#2
  var _t0_, _cs_ = new List<HttpConnect>();
  HttpRequest request = connect.request;
  HttpResponse response = connect.response;
  if (!Rsp.init(connect, "text/html; charset=utf-8"))
    return new Future.value();

  response.write("""<!DOCTYPE html>
<html>
 <head>
     <title>La Boussole</title>
"""); //#2

  return connect.include("/rsp/templates/assetsimports.html").then((_) { //include#6

    response.write("""  </head>
  <body>   
"""); //#7

    var _0 = new StringBuffer(); _cs_.add(connect); //var#10
    connect = new HttpConnect.stringBuffer(connect, _0); response = connect.response;

    response.write("""        <div class="main-welcome"   >
           <div>
            <h1>La boussole</h1>
            <h2>Partager vos traces GPS</h2>
            <p>Que ce soit pour aller marcher en famille, randonner en montagne ou courir dans les bois c&apos;est toujours plus confortable de suivre notre gps. 
            Le but de <em>la-boussole</em> est de vous proposer une manière innovante de partager et de rechercher la trace GPS qu'il vous faut.</p>
            <p>
            <p>Comme dans la vraie vie, vous pouvez utiliser la boussole de cette application pour naviguer dans le site mais également pour agrandir la partie de la page qui vous intéresse en déplaçant celle-ci. Essayez !</p>
            <p>
          </div>
        </div>      
"""); //#11

    connect = _cs_.removeLast(); response = connect.response;

    var _1 = new StringBuffer(); _cs_.add(connect); //var#23
    connect = new HttpConnect.stringBuffer(connect, _1); response = connect.response;

    connect = _cs_.removeLast(); response = connect.response;

    var _2 = new StringBuffer(); _cs_.add(connect); //var#24
    connect = new HttpConnect.stringBuffer(connect, _2); response = connect.response;

    response.write("""        
        <div class="form-group">
           <div id="index-btn-when-anonymous" """); //#25

    if (currentUser(request.session) != null) { //if#27

      response.write("""class="gx-hidden\""""); //#27
    } //if

    response.write(""" >
              <button  type="submit" class="btn btn-primary btn-login">Se connecter</button>&nbsp;
              <button  type="submit" class="btn btn-default btn-register">S'enregister</button>&nbsp;
              <button  type="submit" class="btn btn-warning btn-search loading-on-click">Rechercher une trace</button>
           </div>
           <div id="index-btn-when-logged" """); //#27

    if (currentUser(request.session) == null) { //if#32

      response.write("""class="gx-hidden\""""); //#32
    } //if

    response.write("""  >
             <button  type="submit" class="btn btn-primary btn-add loading-on-click">Ajouter une trace</button>&nbsp;
             <button  type="submit" class="btn btn-warning btn-search loading-on-click">Rechercher une trace</button>
           </div>
        </div>
        <div style="margin-top: 20px"  class="text-warning  form-error-message" >Cette application est actuellement en construction.</div>
        
"""); //#32

    connect = _cs_.removeLast(); response = connect.response;

    var _3 = new StringBuffer(); _cs_.add(connect); //var#40
    connect = new HttpConnect.stringBuffer(connect, _3); response = connect.response;

    connect = _cs_.removeLast(); response = connect.response;

    return Rsp.nnf(spaces(new HttpConnect.chain(connect), nw: _0.toString(), ne: _1.toString(), sw: _2.toString(), se: _3.toString())).then((_) { //include#9

      response.write("""     
    <script type="application/dart" src="/client/pages/index.dart"></script>
    <script src="/packages/browser/dart.js"></script>
  </body>
</html>"""); //#43

      return new Future.value();
    }); //end-of-include
  }); //end-of-include
}
